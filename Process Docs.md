# Thought Process for Coding Exercise Activity

# Setup
- I began by forking the repo and cloning it to my local machine
- I immediate created a new dev branch to do my exercise work in to not interrupt ongoing development in the master branch
- I then added some files to the .gitignore to ignore files generated by my IDE VSCode

- reviewing the project code and seeing it was a Gradle project built with Spring Boot, I could see I would likely need to do some googling on those 2 tools as I have very little experience with them
    - primarily on Gradle likely

# Task 1: Spin-up our CICD Infrastructure
- I began by overviewing the 2 kubernetes yaml files in the Jenkins repo to check for obvious problems
- Not seeing any obvious problems, I applied them to my local K8s cluster
- it took a while for my deployment to finish getting ready, but it seemed to deploy okay
- I don't know yet if all of the configuration, plugins, etc. is all okay, but I'll look into that in the next tasks

# Task 2: Setup a new multi-branch pipeline job for our hello world app
- I began by setting up a multi-branch pipeline job
- I gave it a basic configuration for now
- I provided my GitHub credentials, even though not strictly required as a public repo
- On initial run it got stalled on step: Waiting for next available executor
    - My initial thoughts are that there are no slave nodes configured in Jenkins yet to run the jobs
    - I'll also look at the Jenkinsfile to troubleshoot
        - Since at the top of the Jenkinsfile it specifies agent none, each stage will specify it's own agent
        - I need to make sure that the specified agent is able to run
    - after a quick google search and some investigation I realized that the master node had 0 executors specified in the configuration, so I changed it to 1 and the pipeline was able to run
        - I will likely increase the number of executors to the number of branches so they can run simultaneously
- The first pipeline was able to complete successfully, now I will review it to see if it actually is completing each stage as intended

# Task 3: Setup sonarqube scan for this project
- I creted a new project in my sonarcloud to analyze the repo containing the application
- I followed the very nice steps supplied to run an analysis on the project with Gradle
    - I edited the build.gradle file: 
        - added the sonarqube plugin
        - added a sonarqube section with properties
    - I then added necessary configuration in Jenkins
        - added a secret text credential with the Sonar_Token for the SonarCloud project
        - added the SonarQube server detail in the Jenkins configuration
- I then edited the Jenkinsfile with the specified stage
    - followed docker pipeline approach used in previous stages
    - used the "./gradlew sonarqube" command
- pushed the changes to GitHub and tested the update pipeline
- after testing the pipeline, I realized I had the wrong docker image and updated that and made sure the gradlew command had necessary permissions
- the pipeline failed again this time saying that "Failed to check if project 'AaronDownward_sample-spring-boot' is bound"
    - I believe this is because I forgot to give it the appropriate SonarQube environment, so I update Jenkinsfile to try again

# Task 4: Setup docker build and docker push



